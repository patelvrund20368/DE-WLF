<!DOCTYPE html>
<html>
  <head>
    <title>Show My Location</title>
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
    />
    <link rel="stylesheet" href="organization.css" />
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
  </head>
  <body>
    <!-- Header -->

    <header>
      <div class= "header">
          <nav class="background">
              <ul class="navbar">
                  <div class="nav-logo-div">
                      <a href="#" id="previous-arrow">&#8249;</a>
                      <img src="https://i.ibb.co/hfZtrzg/logo1-removebg-preview.png" id="logo-header"/>
                  </div>
                  <div class="nav-list-div">
                      <li class="nav-list"><a class="nav-list-a" href="homepage.html">Home</a></li>
                      <li class="nav-list"><a class="nav-list-a" href="precautions.html">Precautions</a></li>
                      <li class="nav-list"><a class="nav-list-a" href="emergency.html">Emergency&nbsp;Kit</a></li>
                      <li class="nav-list">
                          <div class="dropdown">
                              <a href="#" class="dropdown-btn">&#9776;</a>
                              <div class="dropdown-content" id="myDropdown">
                                  <a class="dropdown-item" href="Blog.html">Blog</a>
                                  <a class="dropdown-item" href="gallery.html">Gallery</a>
                                  <a class="dropdown-item" href="about-us.html">About Us</a>
                              </div>
                          </div>
                      </li>
                  </div>
              </ul>
          </nav>
      </div>
  </header>

    <!-- Main body -->
    <main>
      <section id="about-body">
        <div class="Site-content">
          <div class="map-container">
            <div id="map"></div>
          </div>
          <button id="get-location">Show My Location</button>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer>
            <div class= "footer">
                <img id="logo-footer" src="https://i.ibb.co/LSX9KgQ/logo1.png" />
                <hr id="line-below-logo-footer"/>
                <div class="footer-list">
                    <ul class="learn-more"><b>Learn More</b>
                        <div class="learn-more-div">
                            <li><a class="footer-a" href="homepage.html">Home</a></li>                        
                            <li><a class="footer-a" href="precautions.html">Precautions</a></li>
                            <li><a class="footer-a" href="emergency.html">Emergency Kit</a></li>
                            <li><a class="footer-a" href="#">Reviews</a></li>
                        </div>
                    </ul>
                    <ul class="company"><b>Company</b>
                        <div class="company-div">
                            <li><a class="footer-a" href="about-us.html">About Us</a></li>                        
                            <li><a class="footer-a" href="gallery.html">Gallery</a></li>
                            <li><a class="footer-a" href="Blog.html">Blogs</a></li>
                            <li><a class="footer-a" href="#">Organizations</a></li>
                        </div>
                    </ul>
                    <ul class="support"><b>Support</b>
                        <div class="support-div">
                            <li id="mobile-number">(+91)9537300286</li>
                            <li><a class="footer-a" href="#">Contact Us</a></li>
                            <li><a class="footer-a" href="#">FAQ</a></li>
                        </div>
                    </ul>
                </div>
            </div>
        </footer>


    <script>
      // Initialize the map
      var map = L.map("map").setView([0, 0], 13);

      // Add an OpenStreetMap tile layer
      L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
        maxZoom: 19,
        subdomains: "abc",
      }).addTo(map);

      var markers = L.featureGroup().addTo(map);

      document.getElementById("get-location").addEventListener("click", () => {
        if (navigator.geolocation) {
          // Prompt the user for location access
          navigator.geolocation.getCurrentPosition(
            (position) => {
              // Get the user's location
              const userLocation = {
                lat: position.coords.latitude,
                lng: position.coords.longitude,
              };

              var marker = L.marker([userLocation.lat, userLocation.lng]).addTo(markers);
              var popupContent = '<strong>User Information:</strong><br>Name: Wildlife<br>Email: wildliferescue@wlf.com<br>Phone No: +91 9283819331';
              marker.bindPopup(popupContent).openPopup();
              markers.addTo(map);
              map.fitBounds(markers.getBounds());
              
              // Center the map on the user's location
              map.setView(userLocation, 13);

              // Add a marker at the user's location (optional)
              L.marker(userLocation).addTo(map);
            },
            (error) => {
              console.error("Location access denied:", error);
            }
          );
        } else {
          console.error("Geolocation not supported by your browser.");
        }
      });
    </script>
  </body>
</html>
